<!-- v1.0.11 -->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ú–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ "–õ—é–±–∏–º—ã–π –º—É–∂"</title>
    <link rel="apple-touch-icon" sizes="180x180" href="favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon_io/favicon-16x16.png">
    <link rel="manifest" href="favicon_io/site.webmanifest">
    <link rel="shortcut icon" href="favicon_io/favicon.ico">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400&display=swap');
        
        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px;
            background-color: #fff;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 40px;
            color: #2c3e50;
        }

        .section {
            margin-bottom: 30px;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8em;
            color: #2c3e50;
            margin-bottom: 15px;
            border-bottom: 2px solid #e74c3c;
            padding-bottom: 5px;
        }

        .menu-item {
            margin: 10px 0;
            padding-left: 20px;
            position: relative;
            display: flex;
            align-items: center;
            transition: background 0.2s;
            cursor: pointer;
        }

        .menu-item.selected {
            background: #ffe5b4;
            border-radius: 8px;
        }

        .menu-checkbox {
            margin-right: 12px;
            accent-color: #e74c3c;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        #order-section {
            margin-top: 40px;
            display: flex;
            align-items: flex-start;
            gap: 40px;
        }

        #order-list {
            background: #fafafa;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 16px 20px;
            min-width: 200px;
            min-height: 40px;
            font-size: 1.1em;
        }

        #order-btn {
            background: #e74c3c;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 14px 32px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background 0.2s;
        }

        #order-btn:hover {
            background: #c0392b;
        }

        @media print {
            body {
                padding: 20px;
            }
        }

        /* --- –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è --- */
        @media (max-width: 600px) {
            body {
                padding: 10px;
                max-width: 100vw;
                font-size: 1em;
            }
            h1 {
                font-size: 1.4em;
                margin-bottom: 20px;
            }
            .section-title {
                font-size: 1.1em;
                padding-bottom: 2px;
                margin-bottom: 8px;
            }
            .section {
                margin-bottom: 18px;
            }
            .menu-item {
                padding-left: 8px;
                font-size: 1em;
                min-height: 38px;
            }
            .menu-checkbox {
                width: 24px;
                height: 24px;
                margin-right: 10px;
            }
            #order-section {
                flex-direction: column !important;
                gap: 16px !important;
                margin-top: 24px;
                align-items: stretch !important;
            }
            #order-list {
                padding: 10px 8px;
                min-width: 0;
                font-size: 1em;
            }
            #order-btn, .glow-btn {
                padding: 16px 0;
                font-size: 1.1em;
                min-width: 0;
                width: 90vw;
                max-width: 90vw;
                margin-left: 0;
                border-radius: 12px;
                display: block;
                margin-right: auto;
                margin-left: auto;
            }
            .btn-underglow-wrapper {
                width: 90vw;
                margin-left: auto;
                margin-right: auto;
                justify-content: center;
            }
            img {
                max-width: 98vw !important;
                height: auto !important;
                width: 90vw !important;
                max-width: 350px !important;
                min-width: 0 !important;
                display: block;
                margin-left: auto;
                margin-right: auto;
            }
            #site-version {
                font-size: 9px;
                margin-top: 30px;
            }
            #personal-message {
                max-width: 100vw;
                font-size: 1em;
            }
        }

        /* –§–æ—Ç–æ –µ–¥—ã –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö –≤—ã—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –ø–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é –Ω–∞ —É—Ä–æ–≤–Ω–µ —á–µ–∫–±–æ–∫—Å–æ–≤ */
        @media (min-width: 601px) {
            .food-photo img {
                display: block;
                margin-left: 38px !important;
                margin-right: 0 !important;
                max-width: 350px;
                width: 350px;
                min-width: 0;
                height: auto;
                align-self: flex-start;
            }
        }

        .glow-btn {
            background: linear-gradient(90deg, #e74c3c, #ffb347, #e74c3c);
            background-size: 200% 200%;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 14px 32px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background 0.2s;
            box-shadow: 0 0 16px #e74c3c66;
            animation: gradient-flow 2s linear infinite;
        }
        @keyframes gradient-flow {
            0% {background-position: 0% 50%;}
            50% {background-position: 100% 50%;}
            100% {background-position: 0% 50%;}
        }
        .btn-underglow-wrapper {
            position: relative;
            display: flex;
            justify-content: flex-start;
            width: fit-content;
            margin-top: 8px;
        }
        .glow-btn {
            background: #fff;
            color: #e74c3c;
            border: none;
            border-radius: 12px;
            padding: 10px 32px;
            font-size: 1.1em;
            cursor: pointer;
            box-shadow: 0 2px 8px #0001;
            position: relative;
            z-index: 2;
            min-width: 120px;
            font-weight: 600;
            transition: color 0.2s;
        }
        .glow-btn:hover {
            color: #fff;
        }
        .btn-underglow {
            position: absolute;
            left: 0; right: 0; bottom: 0;
            height: 18px;
            z-index: 1;
            border-radius: 0 0 16px 16px;
            filter: blur(8px);
            background: linear-gradient(90deg, #a084ee, #e74c3c, #ffb347, #a084ee);
            background-size: 200% 200%;
            animation: underglow-flow 3s linear infinite;
            opacity: 0.7;
        }
        @keyframes underglow-flow {
            0% {background-position: 0% 50%;}
            50% {background-position: 100% 50%;}
            100% {background-position: 0% 50%;}
        }
        .glow-btn.disabled {
            opacity: 0.5;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <h1>–ú–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ "–õ—é–±–∏–º—ã–π –º—É–∂"</h1>
    <form id="menu-form" autocomplete="off">
        <div class="section">
            <h2 class="section-title">üç≥ –ó–∞–≤—Ç—Ä–∞–∫–∏</h2>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ë–ª–∏–Ω—ã (—Å –º—ë–¥–æ–º / —Å–º–µ—Ç–∞–Ω–æ–π / –≤–∞—Ä–µ–Ω—å–µ–º)">–ë–ª–∏–Ω—ã (—Å –º—ë–¥–æ–º / —Å–º–µ—Ç–∞–Ω–æ–π / –≤–∞—Ä–µ–Ω—å–µ–º)</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–û–ª–∞–¥—å–∏">–û–ª–∞–¥—å–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–°—ã—Ä–Ω–∏–∫–∏ —Å –≤–∞—Ä–µ–Ω—å–µ–º">–°—ã—Ä–Ω–∏–∫–∏ —Å –≤–∞—Ä–µ–Ω—å–µ–º</label>
            <label class="menu-item" id="shakshuka-item" style="cursor:pointer;"><input type="checkbox" class="menu-checkbox" value="–®–∞–∫—à—É–∫–∞ (—è–∏—á–Ω–∏—Ü–∞ —Å –ø–æ–º–∏–¥–æ—Ä–∞–º–∏)">–®–∞–∫—à—É–∫–∞ (—è–∏—á–Ω–∏—Ü–∞ —Å –ø–æ–º–∏–¥–æ—Ä–∞–º–∏) üì∑</label>
            <div id="shakshuka-photo" class="food-photo" style="display:none; text-align:left; margin: 10px 0;">
                <img src="shakshuka.webp" alt="–®–∞–∫—à—É–∫–∞" style="max-width:350px; border-radius:12px; box-shadow:0 2px 12px #0002; display:block;">
            </div>
            <label class="menu-item" id="waffles-item" style="cursor:pointer;"><input type="checkbox" class="menu-checkbox" value="–ë–µ–ª—å–≥–∏–π—Å–∫–∏–µ –≤–∞—Ñ–ª–∏">–ë–µ–ª—å–≥–∏–π—Å–∫–∏–µ –≤–∞—Ñ–ª–∏ üì∑</label>
            <div id="waffles-photo" class="food-photo" style="display:none; text-align:left; margin: 10px 0;">
                <img src="photo_food/viennese-waffles.jpg" alt="–ë–µ–ª—å–≥–∏–π—Å–∫–∏–µ –≤–∞—Ñ–ª–∏" style="max-width:350px; border-radius:12px; box-shadow:0 2px 12px #0002; display:block;">
            </div>
            <label class="menu-item" id="zapekanka-item" style="cursor:pointer;"><input type="checkbox" class="menu-checkbox" value="–¢–≤–æ—Ä–æ–∂–Ω–∞—è –∑–∞–ø–µ–∫–∞–Ω–∫–∞">–¢–≤–æ—Ä–æ–∂–Ω–∞—è –∑–∞–ø–µ–∫–∞–Ω–∫–∞ üì∑</label>
            <div id="zapekanka-photo" class="food-photo" style="display:none; text-align:left; margin: 10px 0;">
                <img src="photo_food/zapekanka.jpg" alt="–¢–≤–æ—Ä–æ–∂–Ω–∞—è –∑–∞–ø–µ–∫–∞–Ω–∫–∞" style="max-width:350px; border-radius:12px; box-shadow:0 2px 12px #0002; display:block;">
            </div>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö–∞—à–∞ –æ–≤—Å—è–Ω–∞—è —Å –æ—Ä–µ—Ö–∞–º–∏ –∏ –º—ë–¥–æ–º">–ö–∞—à–∞ –æ–≤—Å—è–Ω–∞—è —Å –æ—Ä–µ—Ö–∞–º–∏ –∏ –º—ë–¥–æ–º</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–í–∞—Ä–µ–Ω–∏–∫–∏ —Å –≤–∏—à–Ω–µ–π">–í–∞—Ä–µ–Ω–∏–∫–∏ —Å –≤–∏—à–Ω–µ–π</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–¢–≤–æ—Ä–æ–≥ —Å —Ñ—Ä—É–∫—Ç–∞–º–∏ –∏ —è–≥–æ–¥–∞–º–∏">–¢–≤–æ—Ä–æ–≥ —Å —Ñ—Ä—É–∫—Ç–∞–º–∏ –∏ —è–≥–æ–¥–∞–º–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–û–º–ª–µ—Ç">–û–º–ª–µ—Ç</label>
        </div>

        <div class="divider"></div>

        <div class="section">
            <h2 class="section-title">ü•£ –°—É–ø—ã</h2>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–°—É–ø –æ–≤–æ—â–Ω–æ–π">–°—É–ø –æ–≤–æ—â–Ω–æ–π</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ì–æ—Ä–æ—Ö–æ–≤—ã–π —Å—É–ø">–ì–æ—Ä–æ—Ö–æ–≤—ã–π —Å—É–ø</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö—É—Ä–∏–Ω—ã–π —Å—É–ø">–ö—É—Ä–∏–Ω—ã–π —Å—É–ø</label>
        </div>

        <div class="divider"></div>

        <div class="section">
            <h2 class="section-title">ü•ò –û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞</h2>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ü–ª–æ–≤">–ü–ª–æ–≤</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö–∞—Ä–±–æ–Ω–∞—Ä–∞">–ö–∞—Ä–±–æ–Ω–∞—Ä–∞</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ü–∞—ç–ª—å—è">–ü–∞—ç–ª—å—è</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ñ–∞—Ä–µ–Ω–∞—è –∫—É—Ä–∏—Ü–∞ —Å –≥–∞—Ä–Ω–∏—Ä–æ–º">–ñ–∞—Ä–µ–Ω–∞—è –∫—É—Ä–∏—Ü–∞ —Å –≥–∞—Ä–Ω–∏—Ä–æ–º</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–¢—É—à—ë–Ω–æ–µ –º—è—Å–æ —Å –æ–≤–æ—â–∞–º–∏">–¢—É—à—ë–Ω–æ–µ –º—è—Å–æ —Å –æ–≤–æ—â–∞–º–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö–æ—Ç–ª–µ—Ç—ã (–º—è—Å–Ω—ã–µ / –∫—É—Ä–∏–Ω—ã–µ / —Ä—ã–±–Ω—ã–µ)">–ö–æ—Ç–ª–µ—Ç—ã (–º—è—Å–Ω—ã–µ / –∫—É—Ä–∏–Ω—ã–µ / —Ä—ã–±–Ω—ã–µ)</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ú–∞–∫–∞—Ä–æ–Ω—ã –ø–æ-—Ñ–ª–æ—Ç—Å–∫–∏">–ú–∞–∫–∞—Ä–æ–Ω—ã –ø–æ-—Ñ–ª–æ—Ç—Å–∫–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–§–∏–ª–µ –ª–∞–≤—Ä–∞–∫–∞ ‚Äî –∂–∞—Ä–µ–Ω–æ–µ, —Å –ª–∏–º–æ–Ω–æ–º. –ù–∞ –≥–∞—Ä–Ω–∏—Ä —Ä–∏—Å —Å –æ–≤–æ—â–∞–º–∏">–§–∏–ª–µ –ª–∞–≤—Ä–∞–∫–∞ ‚Äî –∂–∞—Ä–µ–Ω–æ–µ, —Å –ª–∏–º–æ–Ω–æ–º. –ù–∞ –≥–∞—Ä–Ω–∏—Ä —Ä–∏—Å —Å –æ–≤–æ—â–∞–º–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö—Ä–µ–≤–µ—Ç–∫–∏ –∂–∞—Ä–µ–Ω—ã–µ —Å —á–µ—Å–Ω–æ–∫–æ–º">–ö—Ä–µ–≤–µ—Ç–∫–∏ –∂–∞—Ä–µ–Ω—ã–µ —Å —á–µ—Å–Ω–æ–∫–æ–º</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ü–µ–ª—å–º–µ–Ω–∏">–ü–µ–ª—å–º–µ–Ω–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–í–∞—Ä–µ–Ω–∏–∫–∏ —Å –ª–∏–≤–µ—Ä–æ–º">–í–∞—Ä–µ–Ω–∏–∫–∏ —Å –ª–∏–≤–µ—Ä–æ–º</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ë–ª–∏–Ω—ã —Å –Ω–∞—á–∏–Ω–∫–æ–π (–º—è—Å–æ / –≥—Ä–∏–±—ã / —Ç–≤–æ—Ä–æ–≥)">–ë–ª–∏–Ω—ã —Å –Ω–∞—á–∏–Ω–∫–æ–π (–º—è—Å–æ / –≥—Ä–∏–±—ã / —Ç–≤–æ—Ä–æ–≥)</label>
        </div>

        <div class="divider"></div>

        <div class="section">
            <h2 class="section-title">üçΩ –ì–∞—Ä–Ω–∏—Ä—ã</h2>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ì—Ä–µ—á–∫–∞">–ì—Ä–µ—á–∫–∞</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–†–∏—Å">–†–∏—Å</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω–æ–µ –ø—é—Ä–µ">–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω–æ–µ –ø—é—Ä–µ</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–°–ø–∞–≥–µ—Ç—Ç–∏–Ω–∏">–°–ø–∞–≥–µ—Ç—Ç–∏–Ω–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–°–∞–ª–∞—Ç—ã (–∏–∑ —Å–≤–µ–∂–∏—Ö –æ–≤–æ—â–µ–π, —Å —Ç—É–Ω—Ü–æ–º, —Å —è–π—Ü–æ–º –∏ —Ñ–∞—Å–æ–ª—å—é –∏ –¥—Ä.)">–°–∞–ª–∞—Ç—ã (–∏–∑ —Å–≤–µ–∂–∏—Ö –æ–≤–æ—â–µ–π, —Å —Ç—É–Ω—Ü–æ–º, —Å —è–π—Ü–æ–º –∏ —Ñ–∞—Å–æ–ª—å—é –∏ –¥—Ä.)</label>
        </div>

        <div class="divider"></div>

        <div class="section">
            <h2 class="section-title">üßÇ –ü–µ—Ä–µ–∫—É—Å—ã</h2>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–°–µ–ª—ë–¥–æ—á–∫–∞ –Ω–∞ —á—ë—Ä–Ω–æ–º —Ö–ª–µ–±–µ —Å —É–∫—Ä–æ–ø–æ–º –∏ –ø–µ—Ç—Ä—É—à–∫–æ–π">–°–µ–ª—ë–¥–æ—á–∫–∞ –Ω–∞ —á—ë—Ä–Ω–æ–º —Ö–ª–µ–±–µ —Å —É–∫—Ä–æ–ø–æ–º –∏ –ø–µ—Ç—Ä—É—à–∫–æ–π</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã —Å –∫–∞–ø—Ä–µ–∑–µ">–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã —Å –∫–∞–ø—Ä–µ–∑–µ</label>
        </div>

        <div class="divider"></div>

        <div class="section">
            <h2 class="section-title">ü•§ –ù–∞–ø–∏—Ç–∫–∏</h2>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ß–∞–π –ø–æ—Å—Ç–∞–≤—å—Ç–µ">–ß–∞–π –ø–æ—Å—Ç–∞–≤—å—Ç–µ</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö–æ—Ñ–µ">–ö–æ—Ñ–µ</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–í–∏–Ω–∏—à–∫–æ">–ü—Ä–æ—Å–µ–∫–∫–æ (–ø–æ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞–º)</label>
        </div>

        <div class="divider"></div>
        <div class="section">
            <h2 class="section-title">üòãüç¨ –í—Å—è–∫–æ–µ</h2>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö–æ–Ω—Ñ–µ—Ç–∫–∞">–ö–æ–Ω—Ñ–µ—Ç–∫–∞</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ß–∏–ø—Å—ã —Ñ—Ä—É–∫—Ç–æ–≤—ã–µ">–ß–∏–ø—Å—ã —Ñ—Ä—É–∫—Ç–æ–≤—ã–µ</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ü–æ–ø–∫–æ—Ä–Ω">–ü–æ–ø–∫–æ—Ä–Ω</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ú–æ—Ä–æ–∂–µ–Ω–æ–µ">–ú–æ—Ä–æ–∂–µ–Ω–æ–µ</label>
        </div>

        <div id="order-section" style="flex-direction:column;align-items:stretch;gap:20px;">
            <div>
                <b>–í–∞—à –∑–∞–∫–∞–∑:</b>
                <div id="order-list"></div>
                <div id="personal-message-block" style="display:none; margin-top:16px;">
                    <label for="personal-message" style="font-size:1em; color:#444;">–õ–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ª—é–±–∏–º–æ–≥–æ –ø–æ–≤–∞—Ä–∞:</label><br>
                    <input type="text" id="personal-message" name="personal-message" maxlength="200" style="width:100%;max-width:350px;margin-top:6px;padding:7px 12px;border-radius:7px;border:1px solid #ddd;font-size:1em;">
                </div>
            </div>
            <div id="order-success" style="display:none; color:#27ae60; font-size:1.1em; margin-bottom:10px; font-weight:500;"></div>
            <div id="big-order-photo" style="display:none; text-align:center; margin-bottom:10px;"></div>
            <div class="btn-underglow-wrapper">
                <button type="button" id="order-btn" class="glow-btn">–ó–∞–∫–∞–∑–∞—Ç—å</button>
                <div class="btn-underglow"></div>
            </div>
        </div>
    </form>
    <div id="site-version" style="text-align:center; margin-top:60px; font-size:10px; color:#bbb;"></div>
    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Telegram
        const tgUser = localStorage.getItem("telegram_user");
        if (!tgUser) {
            window.location.href = "/";
        }
        // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤
        function updateSelection() {
            document.querySelectorAll('.menu-checkbox').forEach(cb => {
                cb.closest('.menu-item').classList.toggle('selected', cb.checked);
            });
        }
        document.querySelectorAll('.menu-checkbox').forEach(cb => {
            cb.addEventListener('change', function() {
                updateSelection();
                updateOrderList();
            });
        });
        // –î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —á–µ–∫–±–æ–∫—Å–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
        document.getElementById('menu-form').addEventListener('change', function(e) {
            if (e.target.classList.contains('menu-checkbox')) {
                updateSelection();
                updateOrderList();
            }
        });
        // –ü–æ–∫–∞–∑ —Ñ–æ—Ç–æ —à–∞–∫—à—É–∫–∏
        const shakshukaItem = document.getElementById('shakshuka-item');
        const shakshukaPhoto = document.getElementById('shakshuka-photo');
        let photoVisible = false;
        shakshukaItem.addEventListener('click', function(e) {
            if (e.target.tagName.toLowerCase() === 'input') return;
            photoVisible = !photoVisible;
            shakshukaPhoto.style.display = photoVisible ? 'block' : 'none';
        });
        // –ü–æ–∫–∞–∑ —Ñ–æ—Ç–æ –≤–∞—Ñ–µ–ª—å
        const wafflesItem = document.getElementById('waffles-item');
        const wafflesPhoto = document.getElementById('waffles-photo');
        let wafflesPhotoVisible = false;
        wafflesItem.addEventListener('click', function(e) {
            if (e.target.tagName.toLowerCase() === 'input') return;
            wafflesPhotoVisible = !wafflesPhotoVisible;
            wafflesPhoto.style.display = wafflesPhotoVisible ? 'block' : 'none';
        });
        // –ü–æ–∫–∞–∑ —Ñ–æ—Ç–æ —Ç–≤–æ—Ä–æ–∂–Ω–æ–π –∑–∞–ø–µ–∫–∞–Ω–∫–∏
        const zapekankaItem = document.getElementById('zapekanka-item');
        const zapekankaPhoto = document.getElementById('zapekanka-photo');
        let zapekankaPhotoVisible = false;
        zapekankaItem.addEventListener('click', function(e) {
            if (e.target.tagName.toLowerCase() === 'input') return;
            zapekankaPhotoVisible = !zapekankaPhotoVisible;
            zapekankaPhoto.style.display = zapekankaPhotoVisible ? 'block' : 'none';
        });
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–∞
        function updateOrderList() {
            const checked = Array.from(document.querySelectorAll('.menu-checkbox:checked')).map(cb => cb.value);
            document.getElementById('order-list').innerHTML = checked.length ? checked.map(item => `<div>${item}</div>`).join('') : '<span style="color:#aaa;">–Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ</span>';
            document.getElementById('personal-message-block').style.display = checked.length ? 'block' : 'none';
        }
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
        document.getElementById('order-btn').addEventListener('click', async function() {
            const orderBtn = document.getElementById('order-btn');
            orderBtn.disabled = true;
            orderBtn.classList.add('disabled');
            setTimeout(() => {
                orderBtn.disabled = false;
                orderBtn.classList.remove('disabled');
            }, 5000);
            const checked = Array.from(document.querySelectorAll('.menu-checkbox:checked')).map(cb => cb.value);
            const personalMessage = document.getElementById('personal-message').value.trim();
            const orderSuccess = document.getElementById('order-success');
            const bigOrderPhoto = document.getElementById('big-order-photo');
            orderSuccess.style.display = 'block';
            bigOrderPhoto.style.display = 'none';
            bigOrderPhoto.innerHTML = '';
            const randomPhrases = [
                '–ü–æ–≤–∞—Ä —É–∂–µ —Å—É–µ—Ç–∏—Ç—Å—è.',
                '–ü–æ–≤–∞—Ä –≥–æ–≤–æ—Ä–∏—Ç: –Ω—É –æ–∫',
                '–ü–æ–≤–∞—Ä: üòé –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª –Ω–∞ —Å–≤—è–∑–∏. –í—Å—ë –±—É–¥–µ—Ç –Ω–∞ –≤—ã—Å–æ—Ç–µ!',
                '–ü–æ–≤–∞—Ä: ü•π –¢–∞–∫ –ø—Ä–∏—è—Ç–Ω–æ, —á—Ç–æ –≤—ã –≤—ã–±—Ä–∞–ª–∏ –º–æ—é –∫—É—Ö–Ω—é‚Ä¶',
                '–ü–æ–≤–∞—Ä: üî•üç≥üë®‚Äçüç≥üõéÔ∏è',
                '–ü–æ–≤–∞—Ä: ü´°üî™'
            ];
            const bigOrderPhrases = [
                'üò± –ù–∏—á–µ–≥–æ —Å–µ–±–µ, –∫–∞–∫–æ–π –±–æ–ª—å—à–æ–π –∑–∞–∫–∞–∑! –ü—Ä–∏–¥—ë—Ç—Å—è –∑–≤–∞—Ç—å –ø–æ–º–æ—â–Ω–∏–∫–∞!',
                '–≠—Ç–æ —É–∂–µ –Ω–µ –∑–∞–∫–∞–∑ ‚Äî —ç—Ç–æ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ —à–µ—Ñ–∞!',
                '–ü–æ–≤–∞—Ä: –¢—É—Ç –ø–æ–º–æ—â–Ω–∏–∫ –Ω—É–∂–µ–Ω ‚Äî —Ö–æ–º–æ —Å–∞–ø–∏–µ–Ω—Å!',
                '–ü–æ–∂–µ–ª–∞–µ–º –ø–æ–≤–∞—Ä—É —É–¥–∞—á–∏.',
                '–ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç—Å—è:  "–ó–µ–º–ª—è –µ—â–µ –∏ –ø–æ—Ç–æ–º—É —â–µ–¥—Ä–∞, —á—Ç–æ –≤ –º–∏—Ä–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ø–æ–≤–∞—Ä–∞!‚Ä¶ –ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–Ω—ã –∏—Ö –ø—Ä–æ—Å—Ç—ã–µ —Å—É–¥—å–±—ã, –ê —Ä—É–∫–∏, –±—É–¥—Ç–æ –ø–æ–º—ã—Å–ª—ã —á–∏—Å—Ç—ã. –ü—Ä–æ—Ñ–µ—Å—Å–∏—è —É –Ω–∏—Ö –¥–æ–±—Ä–∞ –ø–æ —Å—É—Ç–∏: –ó–ª–æ–π —á–µ–ª–æ–≤–µ–∫ –Ω–µ –≤—Å—Ç–∞–Ω–µ—Ç —É –ø–ª–∏—Ç—ã."'
            ];
            const bigOrderPhotos = [
                'random_photo/chef1.jpeg',
                'random_photo/chef2.jpeg'
            ];
            if (!checked.length) {
                orderSuccess.textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –±–ª—é–¥–æ!';
                orderSuccess.style.color = '#e74c3c';
                return;
            }
            try {
                const res = await fetch('/api/order', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ order: checked, message: personalMessage })
                });
                const data = await res.json();
                if (data.ok) {
                    let randomText;
                    if (checked.length > 3) {
                        randomText = bigOrderPhrases[Math.floor(Math.random() * bigOrderPhrases.length)];
                        const randomPhoto = bigOrderPhotos[Math.floor(Math.random() * bigOrderPhotos.length)];
                        bigOrderPhoto.innerHTML = `<img src="${randomPhoto}" alt="chef" style="max-width:180px; border-radius:12px; box-shadow:0 2px 12px #0002; margin-top:2px; margin-bottom:0; display:block; text-align:left;">`;
                        bigOrderPhoto.style.display = 'block';
                        bigOrderPhoto.style.textAlign = 'left';
                    } else {
                        randomText = randomPhrases[Math.floor(Math.random() * randomPhrases.length)];
                        bigOrderPhoto.style.display = 'none';
                        bigOrderPhoto.innerHTML = '';
                    }
                    orderSuccess.textContent = '–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! ' + randomText;
                    orderSuccess.style.color = '#27ae60';
                } else {
                    orderSuccess.textContent = '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞: ' + (data.error || '');
                    orderSuccess.style.color = '#e74c3c';
                }
            } catch (e) {
                orderSuccess.textContent = '–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º.';
                orderSuccess.style.color = '#e74c3c';
            }
        });
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateSelection();
        updateOrderList();
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤–µ—Ä—Å–∏—é —Å–∞–π—Ç–∞ –∏–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –≤–≤–µ—Ä—Ö—É
        (function() {
            const comments = Array.from(document.childNodes).filter(n => n.nodeType === Node.COMMENT_NODE);
            let version = '';
            for (const c of comments) {
                if (c.nodeValue.trim().match(/^v[0-9.]+/)) {
                    version = c.nodeValue.trim();
                    break;
                }
            }
            if (version) {
                document.getElementById('site-version').textContent = version;
            }
        })();
    </script>
</body>
</html> 