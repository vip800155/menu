<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ú–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ "–õ—é–±–∏–º—ã–π –º—É–∂"</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400&display=swap');
        
        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px;
            background-color: #fff;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 40px;
            color: #2c3e50;
        }

        .section {
            margin-bottom: 30px;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8em;
            color: #2c3e50;
            margin-bottom: 15px;
            border-bottom: 2px solid #e74c3c;
            padding-bottom: 5px;
        }

        .menu-item {
            margin: 10px 0;
            padding-left: 20px;
            position: relative;
            display: flex;
            align-items: center;
            transition: background 0.2s;
            cursor: pointer;
        }

        .menu-item.selected {
            background: #ffe5b4;
            border-radius: 8px;
        }

        .menu-checkbox {
            margin-right: 12px;
            accent-color: #e74c3c;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        #order-section {
            margin-top: 40px;
            display: flex;
            align-items: flex-start;
            gap: 40px;
        }

        #order-list {
            background: #fafafa;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 16px 20px;
            min-width: 200px;
            min-height: 40px;
            font-size: 1.1em;
        }

        #order-btn {
            background: #e74c3c;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 14px 32px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background 0.2s;
        }

        #order-btn:hover {
            background: #c0392b;
        }

        @media print {
            body {
                padding: 20px;
            }
        }

        .glow-btn {
            background: linear-gradient(90deg, #e74c3c, #ffb347, #e74c3c);
            background-size: 200% 200%;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 14px 32px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background 0.2s;
            box-shadow: 0 0 16px #e74c3c66;
            animation: gradient-flow 2s linear infinite;
        }
        @keyframes gradient-flow {
            0% {background-position: 0% 50%;}
            50% {background-position: 100% 50%;}
            100% {background-position: 0% 50%;}
        }
        .btn-underglow-wrapper {
            position: relative;
            display: flex;
            justify-content: flex-start;
            width: fit-content;
            margin-top: 8px;
        }
        .glow-btn {
            background: #fff;
            color: #e74c3c;
            border: none;
            border-radius: 12px;
            padding: 10px 32px;
            font-size: 1.1em;
            cursor: pointer;
            box-shadow: 0 2px 8px #0001;
            position: relative;
            z-index: 2;
            min-width: 120px;
            font-weight: 600;
            transition: color 0.2s;
        }
        .glow-btn:hover {
            color: #fff;
        }
        .btn-underglow {
            position: absolute;
            left: 0; right: 0; bottom: 0;
            height: 18px;
            z-index: 1;
            border-radius: 0 0 16px 16px;
            filter: blur(8px);
            background: linear-gradient(90deg, #a084ee, #e74c3c, #ffb347, #a084ee);
            background-size: 200% 200%;
            animation: underglow-flow 3s linear infinite;
            opacity: 0.7;
        }
        @keyframes underglow-flow {
            0% {background-position: 0% 50%;}
            50% {background-position: 100% 50%;}
            100% {background-position: 0% 50%;}
        }
    </style>
</head>
<body>
    <h1>–ú–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ "–õ—é–±–∏–º—ã–π –º—É–∂"</h1>
    <form id="menu-form" autocomplete="off">
        <div class="section">
            <h2 class="section-title">üç≥ –ó–∞–≤—Ç—Ä–∞–∫–∏</h2>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ë–ª–∏–Ω—ã (—Å –º—ë–¥–æ–º / —Å–º–µ—Ç–∞–Ω–æ–π / –≤–∞—Ä–µ–Ω—å–µ–º)">–ë–ª–∏–Ω—ã (—Å –º—ë–¥–æ–º / —Å–º–µ—Ç–∞–Ω–æ–π / –≤–∞—Ä–µ–Ω—å–µ–º)</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–û–ª–∞–¥—å–∏">–û–ª–∞–¥—å–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–°—ã—Ä–Ω–∏–∫–∏ —Å –≤–∞—Ä–µ–Ω—å–µ–º">–°—ã—Ä–Ω–∏–∫–∏ —Å –≤–∞—Ä–µ–Ω—å–µ–º</label>
            <label class="menu-item" id="shakshuka-item"><input type="checkbox" class="menu-checkbox" value="–®–∞–∫—à—É–∫–∞ (—è–∏—á–Ω–∏—Ü–∞ —Å –ø–æ–º–∏–¥–æ—Ä–∞–º–∏)">–®–∞–∫—à—É–∫–∞ (—è–∏—á–Ω–∏—Ü–∞ —Å –ø–æ–º–∏–¥–æ—Ä–∞–º–∏) <span style='color:#888;font-size:0.9em;'>(–Ω–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ñ–æ—Ç–æ üì∑)</span></label>
            <div id="shakshuka-photo" style="display:none; text-align:left; margin: 10px 0;">
                <img src="shakshuka.webp" alt="–®–∞–∫—à—É–∫–∞" style="max-width:350px; border-radius:12px; box-shadow:0 2px 12px #0002; display:block;">
            </div>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–¢–≤–æ—Ä–æ–∂–Ω–∞—è –∑–∞–ø–µ–∫–∞–Ω–∫–∞">–¢–≤–æ—Ä–æ–∂–Ω–∞—è –∑–∞–ø–µ–∫–∞–Ω–∫–∞</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö–∞—à–∞ –æ–≤—Å—è–Ω–∞—è —Å –æ—Ä–µ—Ö–∞–º–∏ –∏ –º—ë–¥–æ–º">–ö–∞—à–∞ –æ–≤—Å—è–Ω–∞—è —Å –æ—Ä–µ—Ö–∞–º–∏ –∏ –º—ë–¥–æ–º</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–í–∞—Ä–µ–Ω–∏–∫–∏ —Å –≤–∏—à–Ω–µ–π">–í–∞—Ä–µ–Ω–∏–∫–∏ —Å –≤–∏—à–Ω–µ–π</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–¢–≤–æ—Ä–æ–≥ —Å —Ñ—Ä—É–∫—Ç–∞–º–∏ –∏ —è–≥–æ–¥–∞–º–∏">–¢–≤–æ—Ä–æ–≥ —Å —Ñ—Ä—É–∫—Ç–∞–º–∏ –∏ —è–≥–æ–¥–∞–º–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–û–º–ª–µ—Ç">–û–º–ª–µ—Ç</label>
        </div>

        <div class="divider"></div>

        <div class="section">
            <h2 class="section-title">ü•£ –°—É–ø—ã</h2>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–°—É–ø –æ–≤–æ—â–Ω–æ–π">–°—É–ø –æ–≤–æ—â–Ω–æ–π</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ì–æ—Ä–æ—Ö–æ–≤—ã–π —Å—É–ø">–ì–æ—Ä–æ—Ö–æ–≤—ã–π —Å—É–ø</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö—É—Ä–∏–Ω—ã–π —Å—É–ø">–ö—É—Ä–∏–Ω—ã–π —Å—É–ø</label>
        </div>

        <div class="divider"></div>

        <div class="section">
            <h2 class="section-title">ü•ò –û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞</h2>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ü–ª–æ–≤">–ü–ª–æ–≤</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö–∞—Ä–±–æ–Ω–∞—Ä–∞">–ö–∞—Ä–±–æ–Ω–∞—Ä–∞</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ü–∞—ç–ª—å—è">–ü–∞—ç–ª—å—è</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ñ–∞—Ä–µ–Ω–∞—è –∫—É—Ä–∏—Ü–∞ —Å –≥–∞—Ä–Ω–∏—Ä–æ–º">–ñ–∞—Ä–µ–Ω–∞—è –∫—É—Ä–∏—Ü–∞ —Å –≥–∞—Ä–Ω–∏—Ä–æ–º</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–¢—É—à—ë–Ω–æ–µ –º—è—Å–æ —Å –æ–≤–æ—â–∞–º–∏">–¢—É—à—ë–Ω–æ–µ –º—è—Å–æ —Å –æ–≤–æ—â–∞–º–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö–æ—Ç–ª–µ—Ç—ã (–º—è—Å–Ω—ã–µ / –∫—É—Ä–∏–Ω—ã–µ / —Ä—ã–±–Ω—ã–µ)">–ö–æ—Ç–ª–µ—Ç—ã (–º—è—Å–Ω—ã–µ / –∫—É—Ä–∏–Ω—ã–µ / —Ä—ã–±–Ω—ã–µ)</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ú–∞–∫–∞—Ä–æ–Ω—ã –ø–æ-—Ñ–ª–æ—Ç—Å–∫–∏">–ú–∞–∫–∞—Ä–æ–Ω—ã –ø–æ-—Ñ–ª–æ—Ç—Å–∫–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–§–∏–ª–µ –ª–∞–≤—Ä–∞–∫–∞ ‚Äî –∂–∞—Ä–µ–Ω–æ–µ, —Å –ª–∏–º–æ–Ω–æ–º. –ù–∞ –≥–∞—Ä–Ω–∏—Ä —Ä–∏—Å —Å –æ–≤–æ—â–∞–º–∏">–§–∏–ª–µ –ª–∞–≤—Ä–∞–∫–∞ ‚Äî –∂–∞—Ä–µ–Ω–æ–µ, —Å –ª–∏–º–æ–Ω–æ–º. –ù–∞ –≥–∞—Ä–Ω–∏—Ä —Ä–∏—Å —Å –æ–≤–æ—â–∞–º–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö—Ä–µ–≤–µ—Ç–∫–∏ –∂–∞—Ä–µ–Ω—ã–µ —Å —á–µ—Å–Ω–æ–∫–æ–º">–ö—Ä–µ–≤–µ—Ç–∫–∏ –∂–∞—Ä–µ–Ω—ã–µ —Å —á–µ—Å–Ω–æ–∫–æ–º</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ü–µ–ª—å–º–µ–Ω–∏">–ü–µ–ª—å–º–µ–Ω–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–í–∞—Ä–µ–Ω–∏–∫–∏ —Å –ª–∏–≤–µ—Ä–æ–º">–í–∞—Ä–µ–Ω–∏–∫–∏ —Å –ª–∏–≤–µ—Ä–æ–º</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ë–ª–∏–Ω—ã —Å –Ω–∞—á–∏–Ω–∫–æ–π (–º—è—Å–æ / –≥—Ä–∏–±—ã / —Ç–≤–æ—Ä–æ–≥)">–ë–ª–∏–Ω—ã —Å –Ω–∞—á–∏–Ω–∫–æ–π (–º—è—Å–æ / –≥—Ä–∏–±—ã / —Ç–≤–æ—Ä–æ–≥)</label>
        </div>

        <div class="divider"></div>

        <div class="section">
            <h2 class="section-title">üçΩ –ì–∞—Ä–Ω–∏—Ä—ã</h2>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ì—Ä–µ—á–∫–∞">–ì—Ä–µ—á–∫–∞</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–†–∏—Å">–†–∏—Å</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω–æ–µ –ø—é—Ä–µ">–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω–æ–µ –ø—é—Ä–µ</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–°–ø–∞–≥–µ—Ç—Ç–∏–Ω–∏">–°–ø–∞–≥–µ—Ç—Ç–∏–Ω–∏</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–°–∞–ª–∞—Ç—ã (–∏–∑ —Å–≤–µ–∂–∏—Ö –æ–≤–æ—â–µ–π, —Å —Ç—É–Ω—Ü–æ–º, —Å —è–π—Ü–æ–º –∏ —Ñ–∞—Å–æ–ª—å—é –∏ –¥—Ä.)">–°–∞–ª–∞—Ç—ã (–∏–∑ —Å–≤–µ–∂–∏—Ö –æ–≤–æ—â–µ–π, —Å —Ç—É–Ω—Ü–æ–º, —Å —è–π—Ü–æ–º –∏ —Ñ–∞—Å–æ–ª—å—é –∏ –¥—Ä.)</label>
        </div>

        <div class="divider"></div>

        <div class="section">
            <h2 class="section-title">üßÇ –ü–µ—Ä–µ–∫—É—Å—ã</h2>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–°–µ–ª—ë–¥–æ—á–∫–∞ –Ω–∞ —á—ë—Ä–Ω–æ–º —Ö–ª–µ–±–µ —Å —É–∫—Ä–æ–ø–æ–º –∏ –ø–µ—Ç—Ä—É—à–∫–æ–π">–°–µ–ª—ë–¥–æ—á–∫–∞ –Ω–∞ —á—ë—Ä–Ω–æ–º —Ö–ª–µ–±–µ —Å —É–∫—Ä–æ–ø–æ–º –∏ –ø–µ—Ç—Ä—É—à–∫–æ–π</label>
            <label class="menu-item"><input type="checkbox" class="menu-checkbox" value="–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã —Å –∫–∞–ø—Ä–µ–∑–µ">–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã —Å –∫–∞–ø—Ä–µ–∑–µ</label>
        </div>
        <div id="order-section" style="flex-direction:column;align-items:stretch;gap:20px;">
            <div>
                <b>–í–∞—à –∑–∞–∫–∞–∑:</b>
                <div id="order-list"></div>
            </div>
            <div class="btn-underglow-wrapper">
                <button type="button" id="order-btn" class="glow-btn">–ó–∞–∫–∞–∑–∞—Ç—å</button>
                <div class="btn-underglow"></div>
            </div>
        </div>
    </form>
    <script>
        // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤
        function updateSelection() {
            document.querySelectorAll('.menu-checkbox').forEach(cb => {
                cb.closest('.menu-item').classList.toggle('selected', cb.checked);
            });
        }
        document.querySelectorAll('.menu-checkbox').forEach(cb => {
            cb.addEventListener('change', function() {
                updateSelection();
                updateOrderList();
            });
        });
        // –î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —á–µ–∫–±–æ–∫—Å–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
        document.getElementById('menu-form').addEventListener('change', function(e) {
            if (e.target.classList.contains('menu-checkbox')) {
                updateSelection();
                updateOrderList();
            }
        });
        // –ü–æ–∫–∞–∑ —Ñ–æ—Ç–æ —à–∞–∫—à—É–∫–∏
        const shakshukaItem = document.getElementById('shakshuka-item');
        const shakshukaPhoto = document.getElementById('shakshuka-photo');
        let photoVisible = false;
        shakshukaItem.addEventListener('click', function(e) {
            // –ù–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∫–ª–∏–∫ –ø–æ —á–µ–∫–±–æ–∫—Å—É
            if (e.target.tagName.toLowerCase() === 'input') return;
            photoVisible = !photoVisible;
            shakshukaPhoto.style.display = photoVisible ? 'block' : 'none';
        });
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–∞
        function updateOrderList() {
            const checked = Array.from(document.querySelectorAll('.menu-checkbox:checked')).map(cb => cb.value);
            document.getElementById('order-list').innerHTML = checked.length ? checked.map(item => `<div>${item}</div>`).join('') : '<span style="color:#aaa;">–Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ</span>';
        }
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
        document.getElementById('order-btn').addEventListener('click', async function() {
            const checked = Array.from(document.querySelectorAll('.menu-checkbox:checked')).map(cb => cb.value);
            if (!checked.length) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –±–ª—é–¥–æ!');
                return;
            }
            try {
                const res = await fetch('/api/order', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ order: checked })
                });
                const data = await res.json();
                if (data.ok) {
                    alert('–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!');
                } else {
                    alert('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞: ' + (data.error || ''));
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º.');
            }
        });
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateSelection();
        updateOrderList();
    </script>
</body>
</html> 